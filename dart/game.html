<!DOCTYPE html><html lang="zn-Hans-CN"><head><meta charset="utf-8" /><meta name="author" content="" /><meta name="description" content=""><meta name="keyworks" content="" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>飞镖</title><script type="text/javascript" src="http://libs.baidu.com/jquery/1.8.3/jquery.js?from=www.wcanrong.com"></script><script type="text/javascript" src="http://libs.baidu.com/jquery/1.8.3/jquery.min.js?from=www.wcanrong.com"></script> <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><link rel="apple-touch-icon" href="icon.png" /><link rel="stylesheet" href="css/bootstrap.min.css" /><link rel="stylesheet" href="css/iconfont.css" /><style type="text/css">*{	margin:0;	padding:0;	font-family:'\5FAE\8F6F\96C5\9ED1';	/*微软雅黑  Microsoft YaHei  \5FAE\8F6F\96C5\9ED1*/	font-size:14px;}body{	background:url("images/bodybg.jpg");}.tips{	position:absolute;	top:0;	left:0;	right:0;	bottom:0;	margin:auto;	width:330px;	height:80px;	background:rgba(0,0,0,0);	transform:rotate(90deg);	font-size:18px;	text-align:center;	text-shadow:0px 0px 5px #0cf;	color:#fff;	z-index:3;}.tips button{	position:absolute;	left:50%;	margin-left:-5rem;	margin-top:3rem;	width:10rem;	height:4rem;	background:#0ae;	border:0px solid #fff;	border-radius:0.5rem;	font-size:18px;	color:#fff;	text-shadow:0px 0px 0px #f00;}.game{	position:absolute;	top:0;	bottom:0;	left:0;	right:0;	margin:auto;	width:30rem;	height:30rem;}.game .ready{	display:none;	position:absolute;	top:10rem;	width:32rem;	height:10rem;	text-align:center;	line-height:10.5rem;	font-size:60px;	transform:rotate(90deg);	color:#fff;	text-shadow:0px 0px 0.5rem #0cf;}.game .disc{	display:none;	width:30rem;	height:30rem;	transform:rotate(0deg);}.game .point{	display:none;	position:absolute;	top:14rem;	left:14rem;	width:2rem;	height:2rem;	background:url("images/point.png");	border:0px solid #d43;;	border-radius:2rem;}.dart{	display:none;	position:absolute;	top:0;	width:6.8rem;	height:8.5rem;	z-index:2;}.direction{	display:none;	position:relative;	top:1rem;	left:2rem;	width:10rem;	height:10rem;	background:rgba(150,30,40,0.7);	border:0px solid #d43;;	border-radius:10rem;}.direction .role{	position:absolute;	top:2.5rem;	left:2.5rem;	width:5rem;	height:5rem;	background:#921;	border:0px solid #d43;;	border-radius:5rem;	z-index:1;}.fire{	display:none;	position:absolute;	bottom:0;	left:3.5rem;	width:5rem;	height:10rem;	background:rgba(150,60,40,0.7);	border:0px solid #d43;;	border-radius:2rem;}.fire .text{	margin-top:4.5rem;	transform:rotate(90deg);	font-size:18px;	color:#FFF;}.fire .power{	display:none;	position:absolute;	right:-12rem;	top:4rem;	width:10rem;	height:2.5rem;	background:rgba(150,60,40,0.7);	border:0px solid #f00;	border-radius:2rem;}.fire .power2{	width:0;	height:2.5rem;	background:#3e3;	border:0px solid #f00;	border-radius:2rem;}#temp5{	display:none;	position:fixed;	top:3.5rem;	left:15rem;	text-align:center;	transform:rotate(90deg);	text-shadow:0 0 0.5rem #ff0;}#temp5 span{	position:relative;	top:-0.4rem;	left:-0.5rem;	font-size:18px;}#temp5 b{	font-size:28px;}.son{	position:absolute;	top:0;	left:0;	max-width:320px;	max-height:320px;	width:100%;	height:100%;	transform:rotate(0deg);}.move{	width:10px;	height:10px;	background:#0cf;	border:0px solid #fff;	border-radius:10px;	opacity:0;}.move1{	position:absolute;	top:120px;	left:45px;}.move2{	position:absolute;	top:75px;	left:230px;}.move3{	position:absolute;	top:125px;	left:260px;}.move4{	position:absolute;	top:185px;	left:260px;}.move5{	position:absolute;	top:235px;	left:230px;}.move6{	position:absolute;	top:260px;	left:180px;}.time{	position:fixed;	right:0;	bottom:5rem;	width:8rem;	height:4rem;	transform:rotate(90deg);	text-align:center;	line-height:4rem;}.time .timeNum{	display:none;	position:absolute;	top:0;	text-shadow:0 0 0.5rem #ff0;	font-size:28px;	color:#fff;}.time .timeBtn{	display:none;	position:absolute;	top:0;	text-shadow:0 0 0.5rem #ff0;	font-size:24px;	color:#fff;}</style></head><body ondragstart="return false"><div class="tips">请先移动手柄，然后在按下发射按钮<br />注意蓄力条，过重或者过轻都会导致偏差<br />	<button class="tipsBtn">开始游戏</button></div><div class="direction">	<div class="role"></div></div><div class="fire">	<div class="text">发射</div>	<div class="power"><div class="power2"></div></div></div><div class="game">	<img class="dart" src="images/dart.png" />	<img class="disc" src="images/disc.png" />	<div class="point"></div>	<!--*****************************************-->	<div class="son">		<img class="dart" src="images/dart.png" />		<div class="move move1"></div>		<div class="move move2"></div>		<div class="move move3"></div>		<div class="move move4"></div>		<div class="move move5"></div>		<div class="move move6"></div>	</div>	<div class="ready">4</div></div><div id="temp1" style="color:#fff"></div><div id="temp2" style="color:#fff"></div><div id="temp3" style="color:#fff"></div><div id="temp4" style="color:#fff"></div><div id="temp5" style="color:#fff"><span>得分: </span><b>3</b></div><div class="time">	<div class="timeNum">60</div>	<a href="game.html"><div class="timeBtn">退出</div></a></div><script src="js/jquery.js"></script><script src="js/cli.js" type="text/javascript"></script><script type="text/javascript">//全局变量var obj = document.querySelector(".direction"); //虚拟手柄var obj2 = document.querySelector(".role"); //手柄内部var obj3 = document.querySelector(".point"); //准头var moveOff = false; //是否移动var disNo = false; //显示准头var disOff = true; //闪烁的开关var timer2=setInterval("move()",500);//触发闪烁var width = 0; //蓄力值var obj4 = document.querySelector(".fire"); //发射var obj5 = $(".power2").eq(0); //蓄力var handX = 5; //手柄中心的X坐标var handY = 5; //手柄中心的Y坐标var handO = 0; //手柄中心到外部中心的距离//点击继续document.querySelector(".tipsBtn").addEventListener('touchend', function(){	$(".tips").css("display","none");	on = true;});//小提示//控制手柄obj.addEventListener('touchmove', function(event) {     // 如果这个元素的位置内只有一个手指的话    if (event.targetTouches.length == 1) {		event.preventDefault();// 阻止浏览器默认事件，重要 		var touch = event.targetTouches[0];		moveOff = true;		if(handO < 5){			//手柄的位置			handX = touch.pageX/10-2 - 2.5;			handY = touch.pageY/10-1 - 2.5;			obj2.style.left = handX + 'rem';			obj2.style.top = handY + 'rem';			handO = Math.sqrt(((handX+2.5)-5)*((handX+2.5)-5) + ((handY+2.5)-5)*((handY+2.5)-5));			//准头的位置			obj3.style.left = (touch.pageX/10)*2+0.5 + 'rem';			obj3.style.top = (touch.pageY/10)*2+1.5 + 'rem';		}	}}, false);obj.addEventListener('touchend', function(){	handX = 2.5;			handY = 2.5;			obj2.style.left = handX + 'rem';			obj2.style.top = handY + 'rem';			handO = Math.sqrt(((handX+2.5)-5)*((handX+2.5)-5) + ((handY+2.5)-5)*((handY+2.5)-5));});//移动函数(移动时准头闪烁)function move(){	if(disNo){	if(disOff){		obj3.style.display = "none";		disOff = false;	}	else{		obj3.style.display = "block";		disOff = true;	}	}}//蓄力时obj4.addEventListener('touchstart', function(){	$(".power").css("display","block");	obj5.css("display","block");	obj5.animate({width:10+'rem',},2000);});//蓄力后obj4.addEventListener('touchend', function(){	obj5.stop();	var height = parseInt(obj5.css("width")); //dart偏差	width = height/10;	$(".power").css("display","none");	obj5.css("display","none");	obj5.css("width","0");	//plugIn(1);	fire();});</script></body></html>